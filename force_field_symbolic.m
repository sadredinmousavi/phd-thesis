function [f] = force_field_symbolic(x,y,psai,outputId)
if nargin > 2
	psai1 = psai(1);
	psai2 = psai(2);
	psai3 = psai(3);
	psai4 = psai(4);
else
	syms psai1 real;
	syms psai2 real;
	syms psai3 real;
	syms psai4 real;
end
h = 1e-4;
z = h;
b1=[
	(5154763468291606802295515354116839*(645037786469912768524747919562372565258557419083805951469623639083*sin(psai4) - 65820182292848241686198767302294020199309434625343194533944360960000*x^2*sin(psai4) + 32910091146424120843099383651147010099654717312671597266972180480000*y^2*sin(psai4) + 32910091146424120843099383651147010099654717312671597266972180480000*z^2*sin(psai4) + 2539103980273304842241726841057202540297699983360000*z*cos(psai4) - 5924575953971044303322327049976411726082495794380800*x*sin(psai4) + 9214825520998753836067827422320696402068999246524087586846753229400*y*sin(psai4) + 98730273439272362529298150953441030298964151938014791800916541440000*x*z*cos(psai4) - 18136457001952175097619223299286726231087351070720000*x*y*sin(psai4)))/(716718317496897347378381529781902168998926559115087851167996512308413398777651502521880797846914277048320000000*pi*((y + 7/50)^2 + (x + 8345832768036139/324518553658426726783156020576256)^2 + z^2)^(5/2)) - (5154763468291606802295515354116839*(2580151145879651074098991678249877221726407597198756704950045794857*sin(psai2) - 263280729171392966744795069209176080797237738501372778135777443840000*x^2*sin(psai2) + 131640364585696483372397534604588040398618869250686389067888721920000*y^2*sin(psai2) + 131640364585696483372397534604588040398618869250686389067888721920000*z^2*sin(psai2) + 3385471973697739992479731824592974293202779504640000*z*cos(psai2) + 7899434605294726235358218342889530035615892609433600*x*sin(psai2) - 36859302083995015344271309689284444011242473789710766646881858215100*y*sin(psai2) - 394921093757089450117192603813764121195856607752059167203666165760000*x*z*cos(psai2) - 24181942669269568419418399357849268890563237642240000*x*y*sin(psai2)))/(2866873269987589389513526119127608675995706236460351404671986049233653595110606010087523191387657108193280000000*pi*((y - 7/50)^2 + z^2 + (x - 5563888512024093/649037107316853453566312041152512)^2)^(5/2)) + (5154763468291606802295515354116839*(32043913660369619699786623445226547001335054186799773970901565555037180918407121777*sin(psai3) + 653957421640196272449104399807028875926225210560518305005012629187605946297221120000*x^2*sin(psai3) - 326978710820098136224552199903514437963112605280259152502506314593802973148610560000*y^2*sin(psai3) - 326978710820098136224552199903514437963112605280259152502506314593802973148610560000*z^2*sin(psai3) + 1121393193858477793257386395739014860166419874237242704222196844106665356034836288762055095641702400*z*cos(psai3) + 320439136603696190284207640581745779184536015259629120276362017764441519841450393600*x*sin(psai3) - 1121393193858477793257386395739003648030335209722017309993728469542356728331039408308552479434342400*y*sin(psai3) + 8009951384703412808981331398135820429760141958837447887301406029333323971677402062586107826012160000*x*z*cos(psai3) - 8009951384703412808981331398135820429760141958837447887301406029333323971677402062586107826012160000*x*y*sin(psai3)))/(58147097943648551243945904631040362748291308854985444822519215934451143049071833866095284057101085244861001728501294234682768130289172480000000*pi*((x + 7/50)^2 + z^2 + (y - 5563888512024093/324518553658426726783156020576256)^2)^(5/2)) + (15464290404874820406886546062350517*(z*cos(psai1) + y*sin(psai1))*(x - 7/50))/(21778071482940061661655974875633165533184000*pi*((x - 7/50)^2 + y^2 + z^2)^(5/2))
	(5154763468291606802295515354116839*(645037786469912768524747919562433027866710219213666785652081582633*sin(psai3) + 32910091146424120843099383651147010099654717312671597266972180480000*x^2*sin(psai3) - 65820182292848241686198767302294020199309434625343194533944360960000*y^2*sin(psai3) + 32910091146424120843099383651147010099654717312671597266972180480000*z^2*sin(psai3) - 1692735986848869996239865912296487146601389752320000*z*cos(psai3) + 9214825520998753836067827422320955527532511247066624942625226611900*x*sin(psai3) + 3949717302647363117679109171444765017807946304716800*y*sin(psai3) + 98730273439272362529298150953441030298964151938014791800916541440000*y*z*cos(psai3) + 12090971334634784209709199678924634445281618821120000*x*y*sin(psai3)))/(716718317496897347378381529781902168998926559115087851167996512308413398777651502521880797846914277048320000000*pi*((x + 7/50)^2 + z^2 + (y - 5563888512024093/324518553658426726783156020576256)^2)^(5/2)) - (5154763468291606802295515354116839*(24032935245277213265912288520373879485820199776387725004153099387723749750377607731*sin(psai4) - 245234033115073585713368576715575406922642628386689314549521079609553596375367680000*x^2*sin(psai4) + 490468066230147171426737153431150813845285256773378629099042159219107192750735360000*y^2*sin(psai4) - 245234033115073585713368576715575406922642628386689314549521079609553596375367680000*z^2*sin(psai4) - 560696596929238896628693197869507430083209937118621352111098422053332678017418144381027547820851200*z*cos(psai4) + 560696596929238896628693197869494816430114689540594837305910609629006205777598511037099772425011200*x*sin(psai4) + 240329352452772127327688119483032840239440154533494618618691169649359417571593420800*y*sin(psai4) - 4004975692351706404490665699067910214880070979418723943650703014666661985838701031293053913006080000*y*z*cos(psai4) + 4004975692351706404490665699067910214880070979418723943650703014666661985838701031293053913006080000*x*y*sin(psai4)))/(29073548971824275621972952315520181374145654427492722411259607967225571524535916933047642028550542622430500864250647117341384065144586240000000*pi*((y + 7/50)^2 + (x + 8345832768036139/324518553658426726783156020576256)^2 + z^2)^(5/2)) - (5154763468291606802295515354116839*(1307914843280392544898208799614057751852450421121036610010025258375211892594442240000*x^2*sin(psai2) - 128175654641478478799146493780906476354378138214885528152678870419871389609539685233*sin(psai2) - 2615829686560785089796417599228115503704900842242073220020050516750423785188884480000*y^2*sin(psai2) + 1307914843280392544898208799614057751852450421121036610010025258375211892594442240000*z^2*sin(psai2) + 8971145550867822346059091165912118881331358993897941633777574752853322848278690310096440765133619200*z*cos(psai2) + 8971145550867822346059091165912096457059189664867490845320638003724705592871096549189435532718899200*x*sin(psai2) + 1281756546414784761136830562326983116738144061038516481105448071057766079365801574400*y*sin(psai2) - 64079611077627302471850651185086563438081135670699583098411248234666591773419216500688862608097280000*y*z*cos(psai2) - 64079611077627302471850651185086563438081135670699583098411248234666591773419216500688862608097280000*x*y*sin(psai2)))/(465176783549188409951567237048322901986330470839883558580153727475609144392574670928762272456808681958888013828010353877462145042313379840000000*pi*((y - 7/50)^2 + z^2 + (x - 5563888512024093/649037107316853453566312041152512)^2)^(5/2)) + (15464290404874820406886546062350517*y^2*sin(psai1) - 5154763468291606802295515354116839*sin(psai1)*((x - 7/50)^2 + y^2 + z^2) + 15464290404874820406886546062350517*y*z*cos(psai1))/(21778071482940061661655974875633165533184000*pi*((x - 7/50)^2 + y^2 + z^2)^(5/2))
	(250922457777193148894179386909173850627356814342262911318409976217600*z^2*cos(psai2) - 83640819259064382964726462303057950209118938114087637106136658739200*cos(psai2)*((y - 7/50)^2 + z^2 + (x - 5563888512024093/649037107316853453566312041152512)^2) - 4302079386514370897540256535714752823320762690345261*z*sin(psai2) + 250922457777193148894179386909173850627356814342262911318409976217600*x*z*sin(psai2) + 15364569237551323695168998760152878236605284394237400*y*z*sin(psai2))/(353369412955676865916659500148583703165496779375123791624321240258523955200000*pi*((y - 7/50)^2 + z^2 + (x - 5563888512024093/649037107316853453566312041152512)^2)^(5/2)) - (41820409629532191482363231151528975104559469057043818553068329369600*cos(psai4)*((y + 7/50)^2 + (x + 8345832768036139/324518553658426726783156020576256)^2 + z^2) - 125461228888596574447089693454586925313678407171131455659204988108800*z^2*cos(psai4) + 6453119079771555936506689074389388452487673383229191*z*sin(psai4) + 125461228888596574447089693454586925313678407171131455659204988108800*x*z*sin(psai4) + 23046853856326983996324457652747276666253320356304400*y*z*sin(psai4))/(176684706477838432958329750074291851582748389687561895812160620129261977600000*pi*((y + 7/50)^2 + (x + 8345832768036139/324518553658426726783156020576256)^2 + z^2)^(5/2)) + (125461228888596574447089693454586925313678407171131455659204988108800*z^2*cos(psai3) - 41820409629532191482363231151528975104559469057043818553068329369600*cos(psai3)*((x + 7/50)^2 + z^2 + (y - 5563888512024093/324518553658426726783156020576256)^2) + 4302079386514370897540256535714752823320762690345261*z*sin(psai3) + 15364569237551323695168998760152878236605284394237400*x*z*sin(psai3) - 125461228888596574447089693454586925313678407171131455659204988108800*y*z*sin(psai3))/(176684706477838432958329750074291851582748389687561895812160620129261977600000*pi*((x + 7/50)^2 + z^2 + (y - 5563888512024093/324518553658426726783156020576256)^2)^(5/2)) + (15464290404874820406886546062350517*z^2*cos(psai1) - 5154763468291606802295515354116839*cos(psai1)*((x - 7/50)^2 + y^2 + z^2) + 15464290404874820406886546062350517*y*z*sin(psai1))/(21778071482940061661655974875633165533184000*pi*((x - 7/50)^2 + y^2 + z^2)^(5/2))
];
z = -h;
b2=[
	(5154763468291606802295515354116839*(645037786469912768524747919562372565258557419083805951469623639083*sin(psai4) - 65820182292848241686198767302294020199309434625343194533944360960000*x^2*sin(psai4) + 32910091146424120843099383651147010099654717312671597266972180480000*y^2*sin(psai4) + 32910091146424120843099383651147010099654717312671597266972180480000*z^2*sin(psai4) + 2539103980273304842241726841057202540297699983360000*z*cos(psai4) - 5924575953971044303322327049976411726082495794380800*x*sin(psai4) + 9214825520998753836067827422320696402068999246524087586846753229400*y*sin(psai4) + 98730273439272362529298150953441030298964151938014791800916541440000*x*z*cos(psai4) - 18136457001952175097619223299286726231087351070720000*x*y*sin(psai4)))/(716718317496897347378381529781902168998926559115087851167996512308413398777651502521880797846914277048320000000*pi*((y + 7/50)^2 + (x + 8345832768036139/324518553658426726783156020576256)^2 + z^2)^(5/2)) - (5154763468291606802295515354116839*(2580151145879651074098991678249877221726407597198756704950045794857*sin(psai2) - 263280729171392966744795069209176080797237738501372778135777443840000*x^2*sin(psai2) + 131640364585696483372397534604588040398618869250686389067888721920000*y^2*sin(psai2) + 131640364585696483372397534604588040398618869250686389067888721920000*z^2*sin(psai2) + 3385471973697739992479731824592974293202779504640000*z*cos(psai2) + 7899434605294726235358218342889530035615892609433600*x*sin(psai2) - 36859302083995015344271309689284444011242473789710766646881858215100*y*sin(psai2) - 394921093757089450117192603813764121195856607752059167203666165760000*x*z*cos(psai2) - 24181942669269568419418399357849268890563237642240000*x*y*sin(psai2)))/(2866873269987589389513526119127608675995706236460351404671986049233653595110606010087523191387657108193280000000*pi*((y - 7/50)^2 + z^2 + (x - 5563888512024093/649037107316853453566312041152512)^2)^(5/2)) + (5154763468291606802295515354116839*(32043913660369619699786623445226547001335054186799773970901565555037180918407121777*sin(psai3) + 653957421640196272449104399807028875926225210560518305005012629187605946297221120000*x^2*sin(psai3) - 326978710820098136224552199903514437963112605280259152502506314593802973148610560000*y^2*sin(psai3) - 326978710820098136224552199903514437963112605280259152502506314593802973148610560000*z^2*sin(psai3) + 1121393193858477793257386395739014860166419874237242704222196844106665356034836288762055095641702400*z*cos(psai3) + 320439136603696190284207640581745779184536015259629120276362017764441519841450393600*x*sin(psai3) - 1121393193858477793257386395739003648030335209722017309993728469542356728331039408308552479434342400*y*sin(psai3) + 8009951384703412808981331398135820429760141958837447887301406029333323971677402062586107826012160000*x*z*cos(psai3) - 8009951384703412808981331398135820429760141958837447887301406029333323971677402062586107826012160000*x*y*sin(psai3)))/(58147097943648551243945904631040362748291308854985444822519215934451143049071833866095284057101085244861001728501294234682768130289172480000000*pi*((x + 7/50)^2 + z^2 + (y - 5563888512024093/324518553658426726783156020576256)^2)^(5/2)) + (15464290404874820406886546062350517*(z*cos(psai1) + y*sin(psai1))*(x - 7/50))/(21778071482940061661655974875633165533184000*pi*((x - 7/50)^2 + y^2 + z^2)^(5/2))
	(5154763468291606802295515354116839*(645037786469912768524747919562433027866710219213666785652081582633*sin(psai3) + 32910091146424120843099383651147010099654717312671597266972180480000*x^2*sin(psai3) - 65820182292848241686198767302294020199309434625343194533944360960000*y^2*sin(psai3) + 32910091146424120843099383651147010099654717312671597266972180480000*z^2*sin(psai3) - 1692735986848869996239865912296487146601389752320000*z*cos(psai3) + 9214825520998753836067827422320955527532511247066624942625226611900*x*sin(psai3) + 3949717302647363117679109171444765017807946304716800*y*sin(psai3) + 98730273439272362529298150953441030298964151938014791800916541440000*y*z*cos(psai3) + 12090971334634784209709199678924634445281618821120000*x*y*sin(psai3)))/(716718317496897347378381529781902168998926559115087851167996512308413398777651502521880797846914277048320000000*pi*((x + 7/50)^2 + z^2 + (y - 5563888512024093/324518553658426726783156020576256)^2)^(5/2)) - (5154763468291606802295515354116839*(24032935245277213265912288520373879485820199776387725004153099387723749750377607731*sin(psai4) - 245234033115073585713368576715575406922642628386689314549521079609553596375367680000*x^2*sin(psai4) + 490468066230147171426737153431150813845285256773378629099042159219107192750735360000*y^2*sin(psai4) - 245234033115073585713368576715575406922642628386689314549521079609553596375367680000*z^2*sin(psai4) - 560696596929238896628693197869507430083209937118621352111098422053332678017418144381027547820851200*z*cos(psai4) + 560696596929238896628693197869494816430114689540594837305910609629006205777598511037099772425011200*x*sin(psai4) + 240329352452772127327688119483032840239440154533494618618691169649359417571593420800*y*sin(psai4) - 4004975692351706404490665699067910214880070979418723943650703014666661985838701031293053913006080000*y*z*cos(psai4) + 4004975692351706404490665699067910214880070979418723943650703014666661985838701031293053913006080000*x*y*sin(psai4)))/(29073548971824275621972952315520181374145654427492722411259607967225571524535916933047642028550542622430500864250647117341384065144586240000000*pi*((y + 7/50)^2 + (x + 8345832768036139/324518553658426726783156020576256)^2 + z^2)^(5/2)) - (5154763468291606802295515354116839*(1307914843280392544898208799614057751852450421121036610010025258375211892594442240000*x^2*sin(psai2) - 128175654641478478799146493780906476354378138214885528152678870419871389609539685233*sin(psai2) - 2615829686560785089796417599228115503704900842242073220020050516750423785188884480000*y^2*sin(psai2) + 1307914843280392544898208799614057751852450421121036610010025258375211892594442240000*z^2*sin(psai2) + 8971145550867822346059091165912118881331358993897941633777574752853322848278690310096440765133619200*z*cos(psai2) + 8971145550867822346059091165912096457059189664867490845320638003724705592871096549189435532718899200*x*sin(psai2) + 1281756546414784761136830562326983116738144061038516481105448071057766079365801574400*y*sin(psai2) - 64079611077627302471850651185086563438081135670699583098411248234666591773419216500688862608097280000*y*z*cos(psai2) - 64079611077627302471850651185086563438081135670699583098411248234666591773419216500688862608097280000*x*y*sin(psai2)))/(465176783549188409951567237048322901986330470839883558580153727475609144392574670928762272456808681958888013828010353877462145042313379840000000*pi*((y - 7/50)^2 + z^2 + (x - 5563888512024093/649037107316853453566312041152512)^2)^(5/2)) + (15464290404874820406886546062350517*y^2*sin(psai1) - 5154763468291606802295515354116839*sin(psai1)*((x - 7/50)^2 + y^2 + z^2) + 15464290404874820406886546062350517*y*z*cos(psai1))/(21778071482940061661655974875633165533184000*pi*((x - 7/50)^2 + y^2 + z^2)^(5/2))
	(250922457777193148894179386909173850627356814342262911318409976217600*z^2*cos(psai2) - 83640819259064382964726462303057950209118938114087637106136658739200*cos(psai2)*((y - 7/50)^2 + z^2 + (x - 5563888512024093/649037107316853453566312041152512)^2) - 4302079386514370897540256535714752823320762690345261*z*sin(psai2) + 250922457777193148894179386909173850627356814342262911318409976217600*x*z*sin(psai2) + 15364569237551323695168998760152878236605284394237400*y*z*sin(psai2))/(353369412955676865916659500148583703165496779375123791624321240258523955200000*pi*((y - 7/50)^2 + z^2 + (x - 5563888512024093/649037107316853453566312041152512)^2)^(5/2)) - (41820409629532191482363231151528975104559469057043818553068329369600*cos(psai4)*((y + 7/50)^2 + (x + 8345832768036139/324518553658426726783156020576256)^2 + z^2) - 125461228888596574447089693454586925313678407171131455659204988108800*z^2*cos(psai4) + 6453119079771555936506689074389388452487673383229191*z*sin(psai4) + 125461228888596574447089693454586925313678407171131455659204988108800*x*z*sin(psai4) + 23046853856326983996324457652747276666253320356304400*y*z*sin(psai4))/(176684706477838432958329750074291851582748389687561895812160620129261977600000*pi*((y + 7/50)^2 + (x + 8345832768036139/324518553658426726783156020576256)^2 + z^2)^(5/2)) + (125461228888596574447089693454586925313678407171131455659204988108800*z^2*cos(psai3) - 41820409629532191482363231151528975104559469057043818553068329369600*cos(psai3)*((x + 7/50)^2 + z^2 + (y - 5563888512024093/324518553658426726783156020576256)^2) + 4302079386514370897540256535714752823320762690345261*z*sin(psai3) + 15364569237551323695168998760152878236605284394237400*x*z*sin(psai3) - 125461228888596574447089693454586925313678407171131455659204988108800*y*z*sin(psai3))/(176684706477838432958329750074291851582748389687561895812160620129261977600000*pi*((x + 7/50)^2 + z^2 + (y - 5563888512024093/324518553658426726783156020576256)^2)^(5/2)) + (15464290404874820406886546062350517*z^2*cos(psai1) - 5154763468291606802295515354116839*cos(psai1)*((x - 7/50)^2 + y^2 + z^2) + 15464290404874820406886546062350517*y*z*sin(psai1))/(21778071482940061661655974875633165533184000*pi*((x - 7/50)^2 + y^2 + z^2)^(5/2))
];
f = (b1 - b2)./2/h;
if nargin > 3
	if outputId < 4
		f = f(outputId);
	else
		f = sqrt(f(1)^2+f(2)^2);
	end
end
end