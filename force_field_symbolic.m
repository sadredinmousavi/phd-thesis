function [f] = force_field_symbolic(x,y,psai,outputId)
if nargin > 2
	psai1 = psai(1);
	psai2 = psai(2);
	psai3 = psai(3);
	psai4 = psai(4);
else
	syms psai1 real;
	syms psai2 real;
	syms psai3 real;
	syms psai4 real;
end
h = 1e-4;
z = h;
b1=[
	(5154763468291606802295515354116839*(1471404198690441583391402867784101798538878966286051962259964752664064645512431113*sin(psai3) + 26158296865607850897964175992281155037049008422420732200200505167504237851888844800*x^2*sin(psai3) - 13079148432803925448982087996140577518524504211210366100100252583752118925944422400*y^2*sin(psai3) - 13079148432803925448982087996140577518524504211210366100100252583752118925944422400*z^2*sin(psai3) + 48059708308220476853887988388814922578560851753024687323808436175999943830064412375516646956072960*z*cos(psai3) + 13733105854444121523970645517402881335854427514888823807176961336910141270408560640*x*sin(psai3) - 48059708308220476853887988388814442058442937559589876441326578311208726259818841426456373425602560*y*sin(psai3) + 320398055388136512359253255925432817190405678353497915492056241173332958867096082503444313040486400*x*z*cos(psai3) - 320398055388136512359253255925432817190405678353497915492056241173332958867096082503444313040486400*x*y*sin(psai3)))/(2325883917745942049757836185241614509931652354199417792900768637378045721962873354643811362284043409794440069140051769387310725211566899200000*pi*((x + 3/20)^2 + (y - 5961309120025813/324518553658426726783156020576256)^2 + z^2)^(5/2)) - (5154763468291606802295515354116839*(29619082031781708758789445286031753820838862723066000245263805142*sin(psai2) - 2632807291713929667447950692091760807972377385013727781357774438400*x^2*sin(psai2) + 1316403645856964833723975346045880403986188692506863890678887219200*y^2*sin(psai2) + 1316403645856964833723975346045880403986188692506863890678887219200*z^2*sin(psai2) + 36272914003904351412183022817673677899009779302400*z*cos(psai2) + 84636799342443487845371629460338807201191228866560*x*sin(psai2) - 394921093757089450117192603813761900120455076318675611478021407535*y*sin(psai2) - 3949210937570894501171926038137641211958566077520591672036661657600*x*z*cos(psai2) - 241819426692695684194183993578492688905632376422400*x*y*sin(psai2)))/(28668732699875893895135261191276086759957062364603514046719860492336535951106060100875231913876571081932800000*pi*((y - 3/20)^2 + (x - 5961309120025813/649037107316853453566312041152512)^2 + z^2)^(5/2)) + (5154763468291606802295515354116839*(29619082031781708758789445286027311670035799856950906978977111977*sin(psai4) - 2632807291713929667447950692091760807972377385013727781357774438400*x^2*sin(psai4) + 1316403645856964833723975346045880403986188692506863890678887219200*y^2*sin(psai4) + 1316403645856964833723975346045880403986188692506863890678887219200*z^2*sin(psai4) + 108818742011713048151826187357519906512853952102400*z*cos(psai4) - 253910398027330448121483589605746899403662709227520*x*sin(psai4) + 394921093757089450117192603813744131517242824854066205684873989560*y*sin(psai4) + 3949210937570894501171926038137641211958566077520591672036661657600*x*z*cos(psai4) - 725458280078087003904768931971469049243494042828800*x*y*sin(psai4)))/(28668732699875893895135261191276086759957062364603514046719860492336535951106060100875231913876571081932800000*pi*((y + 3/20)^2 + (x + 8941963680038719/324518553658426726783156020576256)^2 + z^2)^(5/2)) + (15464290404874820406886546062350517*(z*cos(psai1) + y*sin(psai1))*(x - 3/20))/(21778071482940061661655974875633165533184000*pi*((x - 3/20)^2 + y^2 + z^2)^(5/2))
	(5154763468291606802295515354116839*(7404770507945427189697361321507522003571928537012672090057583318*sin(psai3) + 329100911464241208430993836511470100996547173126715972669721804800*x^2*sin(psai3) - 658201822928482416861987673022940201993094346253431945339443609600*y^2*sin(psai3) + 329100911464241208430993836511470100996547173126715972669721804800*z^2*sin(psai3) - 18136457001952175706091511408836838949504889651200*z*cos(psai3) + 98730273439272362529298150953438809223562620504631236075271783215*x*sin(psai3) + 42318399671221743922685814730169403600595614433280*y*sin(psai3) + 987302734392723625292981509534410302989641519380147918009165414400*y*z*cos(psai3) + 120909713346347842097091996789246344452816188211200*x*y*sin(psai3)))/(7167183174968973473783815297819021689989265591150878511679965123084133987776515025218807978469142770483200000*pi*((x + 3/20)^2 + (y - 5961309120025813/324518553658426726783156020576256)^2 + z^2)^(5/2)) - (5154763468291606802295515354116839*(52316593731215701795928351984562310074098016844841464400401010335008475703777689600*x^2*sin(psai2) - 5885616794761766333565611471136420434672563279472623251976063255467092162193786377*sin(psai2) - 104633187462431403591856703969124620148196033689682928800802020670016951407555379200*y^2*sin(psai2) + 52316593731215701795928351984562310074098016844841464400401010335008475703777689600*z^2*sin(psai2) + 384477666465763814831103907110519380628486814024197498590467489407999550640515299004133175648583680*z*cos(psai2) + 384477666465763814831103907110518419588250985637327876825503773678417115500024157106012628587642880*x*sin(psai2) + 54932423417776486095882582069611525343417710059555295228707845347640565081634242560*y*sin(psai2) - 2563184443105092098874026047403462537523245426827983323936449929386663670936768660027554504323891200*y*z*cos(psai2) - 2563184443105092098874026047403462537523245426827983323936449929386663670936768660027554504323891200*x*y*sin(psai2)))/(18607071341967536398062689481932916079453218833595342343206149099024365775702986837150490898272347278355520553120414155098485801692535193600000*pi*((y - 3/20)^2 + (x - 5961309120025813/649037107316853453566312041152512)^2 + z^2)^(5/2)) - (5154763468291606802295515354116839*(1103553149017831120900617579329227503966330014165546351717526039768872141457078019*sin(psai4) - 9809361324602943428534743068623016276905705135467572581980843184382143855014707200*x^2*sin(psai4) + 19618722649205886857069486137246032553811410270935145163961686368764287710029414400*y^2*sin(psai4) - 9809361324602943428534743068623016276905705135467572581980843184382143855014707200*z^2*sin(psai4) - 24029854154110238426943994194407461289280425876512343661904218087999971915032206187758323478036480*z*cos(psai4) + 24029854154110238426943994194406920704147772408964681761452619300018067210155757091683004454010880*x*sin(psai4) + 10299829390833090501231206782781804561452839438799920912115733405586459246848901120*y*sin(psai4) - 160199027694068256179626627962716408595202839176748957746028120586666479433548041251722156520243200*y*z*cos(psai4) + 160199027694068256179626627962716408595202839176748957746028120586666479433548041251722156520243200*x*y*sin(psai4)))/(1162941958872971024878918092620807254965826177099708896450384318689022860981436677321905681142021704897220034570025884693655362605783449600000*pi*((y + 3/20)^2 + (x + 8941963680038719/324518553658426726783156020576256)^2 + z^2)^(5/2)) + (15464290404874820406886546062350517*y^2*sin(psai1) - 5154763468291606802295515354116839*sin(psai1)*((x - 3/20)^2 + y^2 + z^2) + 15464290404874820406886546062350517*y*z*cos(psai1))/(21778071482940061661655974875633165533184000*pi*((x - 3/20)^2 + y^2 + z^2)^(5/2))
	(50184491555438629778835877381834770125471362868452582263681995243520*z^2*cos(psai2) - 16728163851812876592945292460611590041823787622817527421227331747840*cos(psai2)*((y - 3/20)^2 + (x - 5961309120025813/649037107316853453566312041152512)^2 + z^2) - 921874154253079406245849520734352287309771001303727*z*sin(psai2) + 50184491555438629778835877381834770125471362868452582263681995243520*x*z*sin(psai2) + 3072913847510264739033799752030575647321056878847480*y*z*sin(psai2))/(70673882591135373183331900029716740633099355875024758324864248051704791040000*pi*((y - 3/20)^2 + (x - 5961309120025813/649037107316853453566312041152512)^2 + z^2)^(5/2)) + (25092245777719314889417938690917385062735681434226291131840997621760*z^2*cos(psai3) - 8364081925906438296472646230305795020911893811408763710613665873920*cos(psai3)*((x + 3/20)^2 + (y - 5961309120025813/324518553658426726783156020576256)^2 + z^2) + 921874154253079406245849520734352287309771001303727*z*sin(psai3) + 3072913847510264739033799752030575647321056878847480*x*z*sin(psai3) - 25092245777719314889417938690917385062735681434226291131840997621760*y*z*sin(psai3))/(35336941295567686591665950014858370316549677937512379162432124025852395520000*pi*((x + 3/20)^2 + (y - 5961309120025813/324518553658426726783156020576256)^2 + z^2)^(5/2)) - (8364081925906438296472646230305795020911893811408763710613665873920*cos(psai4)*((y + 3/20)^2 + (x + 8941963680038719/324518553658426726783156020576256)^2 + z^2) - 25092245777719314889417938690917385062735681434226291131840997621760*z^2*cos(psai4) + 1382811231379619024315177054290016193088653159027747*z*sin(psai4) + 25092245777719314889417938690917385062735681434226291131840997621760*x*z*sin(psai4) + 4609370771265396799264891530549455333250664071260880*y*z*sin(psai4))/(35336941295567686591665950014858370316549677937512379162432124025852395520000*pi*((y + 3/20)^2 + (x + 8941963680038719/324518553658426726783156020576256)^2 + z^2)^(5/2)) + (15464290404874820406886546062350517*z^2*cos(psai1) - 5154763468291606802295515354116839*cos(psai1)*((x - 3/20)^2 + y^2 + z^2) + 15464290404874820406886546062350517*y*z*sin(psai1))/(21778071482940061661655974875633165533184000*pi*((x - 3/20)^2 + y^2 + z^2)^(5/2))
];
z = -h;
b2=[
	(5154763468291606802295515354116839*(1471404198690441583391402867784101798538878966286051962259964752664064645512431113*sin(psai3) + 26158296865607850897964175992281155037049008422420732200200505167504237851888844800*x^2*sin(psai3) - 13079148432803925448982087996140577518524504211210366100100252583752118925944422400*y^2*sin(psai3) - 13079148432803925448982087996140577518524504211210366100100252583752118925944422400*z^2*sin(psai3) + 48059708308220476853887988388814922578560851753024687323808436175999943830064412375516646956072960*z*cos(psai3) + 13733105854444121523970645517402881335854427514888823807176961336910141270408560640*x*sin(psai3) - 48059708308220476853887988388814442058442937559589876441326578311208726259818841426456373425602560*y*sin(psai3) + 320398055388136512359253255925432817190405678353497915492056241173332958867096082503444313040486400*x*z*cos(psai3) - 320398055388136512359253255925432817190405678353497915492056241173332958867096082503444313040486400*x*y*sin(psai3)))/(2325883917745942049757836185241614509931652354199417792900768637378045721962873354643811362284043409794440069140051769387310725211566899200000*pi*((x + 3/20)^2 + (y - 5961309120025813/324518553658426726783156020576256)^2 + z^2)^(5/2)) - (5154763468291606802295515354116839*(29619082031781708758789445286031753820838862723066000245263805142*sin(psai2) - 2632807291713929667447950692091760807972377385013727781357774438400*x^2*sin(psai2) + 1316403645856964833723975346045880403986188692506863890678887219200*y^2*sin(psai2) + 1316403645856964833723975346045880403986188692506863890678887219200*z^2*sin(psai2) + 36272914003904351412183022817673677899009779302400*z*cos(psai2) + 84636799342443487845371629460338807201191228866560*x*sin(psai2) - 394921093757089450117192603813761900120455076318675611478021407535*y*sin(psai2) - 3949210937570894501171926038137641211958566077520591672036661657600*x*z*cos(psai2) - 241819426692695684194183993578492688905632376422400*x*y*sin(psai2)))/(28668732699875893895135261191276086759957062364603514046719860492336535951106060100875231913876571081932800000*pi*((y - 3/20)^2 + (x - 5961309120025813/649037107316853453566312041152512)^2 + z^2)^(5/2)) + (5154763468291606802295515354116839*(29619082031781708758789445286027311670035799856950906978977111977*sin(psai4) - 2632807291713929667447950692091760807972377385013727781357774438400*x^2*sin(psai4) + 1316403645856964833723975346045880403986188692506863890678887219200*y^2*sin(psai4) + 1316403645856964833723975346045880403986188692506863890678887219200*z^2*sin(psai4) + 108818742011713048151826187357519906512853952102400*z*cos(psai4) - 253910398027330448121483589605746899403662709227520*x*sin(psai4) + 394921093757089450117192603813744131517242824854066205684873989560*y*sin(psai4) + 3949210937570894501171926038137641211958566077520591672036661657600*x*z*cos(psai4) - 725458280078087003904768931971469049243494042828800*x*y*sin(psai4)))/(28668732699875893895135261191276086759957062364603514046719860492336535951106060100875231913876571081932800000*pi*((y + 3/20)^2 + (x + 8941963680038719/324518553658426726783156020576256)^2 + z^2)^(5/2)) + (15464290404874820406886546062350517*(z*cos(psai1) + y*sin(psai1))*(x - 3/20))/(21778071482940061661655974875633165533184000*pi*((x - 3/20)^2 + y^2 + z^2)^(5/2))
	(5154763468291606802295515354116839*(7404770507945427189697361321507522003571928537012672090057583318*sin(psai3) + 329100911464241208430993836511470100996547173126715972669721804800*x^2*sin(psai3) - 658201822928482416861987673022940201993094346253431945339443609600*y^2*sin(psai3) + 329100911464241208430993836511470100996547173126715972669721804800*z^2*sin(psai3) - 18136457001952175706091511408836838949504889651200*z*cos(psai3) + 98730273439272362529298150953438809223562620504631236075271783215*x*sin(psai3) + 42318399671221743922685814730169403600595614433280*y*sin(psai3) + 987302734392723625292981509534410302989641519380147918009165414400*y*z*cos(psai3) + 120909713346347842097091996789246344452816188211200*x*y*sin(psai3)))/(7167183174968973473783815297819021689989265591150878511679965123084133987776515025218807978469142770483200000*pi*((x + 3/20)^2 + (y - 5961309120025813/324518553658426726783156020576256)^2 + z^2)^(5/2)) - (5154763468291606802295515354116839*(52316593731215701795928351984562310074098016844841464400401010335008475703777689600*x^2*sin(psai2) - 5885616794761766333565611471136420434672563279472623251976063255467092162193786377*sin(psai2) - 104633187462431403591856703969124620148196033689682928800802020670016951407555379200*y^2*sin(psai2) + 52316593731215701795928351984562310074098016844841464400401010335008475703777689600*z^2*sin(psai2) + 384477666465763814831103907110519380628486814024197498590467489407999550640515299004133175648583680*z*cos(psai2) + 384477666465763814831103907110518419588250985637327876825503773678417115500024157106012628587642880*x*sin(psai2) + 54932423417776486095882582069611525343417710059555295228707845347640565081634242560*y*sin(psai2) - 2563184443105092098874026047403462537523245426827983323936449929386663670936768660027554504323891200*y*z*cos(psai2) - 2563184443105092098874026047403462537523245426827983323936449929386663670936768660027554504323891200*x*y*sin(psai2)))/(18607071341967536398062689481932916079453218833595342343206149099024365775702986837150490898272347278355520553120414155098485801692535193600000*pi*((y - 3/20)^2 + (x - 5961309120025813/649037107316853453566312041152512)^2 + z^2)^(5/2)) - (5154763468291606802295515354116839*(1103553149017831120900617579329227503966330014165546351717526039768872141457078019*sin(psai4) - 9809361324602943428534743068623016276905705135467572581980843184382143855014707200*x^2*sin(psai4) + 19618722649205886857069486137246032553811410270935145163961686368764287710029414400*y^2*sin(psai4) - 9809361324602943428534743068623016276905705135467572581980843184382143855014707200*z^2*sin(psai4) - 24029854154110238426943994194407461289280425876512343661904218087999971915032206187758323478036480*z*cos(psai4) + 24029854154110238426943994194406920704147772408964681761452619300018067210155757091683004454010880*x*sin(psai4) + 10299829390833090501231206782781804561452839438799920912115733405586459246848901120*y*sin(psai4) - 160199027694068256179626627962716408595202839176748957746028120586666479433548041251722156520243200*y*z*cos(psai4) + 160199027694068256179626627962716408595202839176748957746028120586666479433548041251722156520243200*x*y*sin(psai4)))/(1162941958872971024878918092620807254965826177099708896450384318689022860981436677321905681142021704897220034570025884693655362605783449600000*pi*((y + 3/20)^2 + (x + 8941963680038719/324518553658426726783156020576256)^2 + z^2)^(5/2)) + (15464290404874820406886546062350517*y^2*sin(psai1) - 5154763468291606802295515354116839*sin(psai1)*((x - 3/20)^2 + y^2 + z^2) + 15464290404874820406886546062350517*y*z*cos(psai1))/(21778071482940061661655974875633165533184000*pi*((x - 3/20)^2 + y^2 + z^2)^(5/2))
	(50184491555438629778835877381834770125471362868452582263681995243520*z^2*cos(psai2) - 16728163851812876592945292460611590041823787622817527421227331747840*cos(psai2)*((y - 3/20)^2 + (x - 5961309120025813/649037107316853453566312041152512)^2 + z^2) - 921874154253079406245849520734352287309771001303727*z*sin(psai2) + 50184491555438629778835877381834770125471362868452582263681995243520*x*z*sin(psai2) + 3072913847510264739033799752030575647321056878847480*y*z*sin(psai2))/(70673882591135373183331900029716740633099355875024758324864248051704791040000*pi*((y - 3/20)^2 + (x - 5961309120025813/649037107316853453566312041152512)^2 + z^2)^(5/2)) + (25092245777719314889417938690917385062735681434226291131840997621760*z^2*cos(psai3) - 8364081925906438296472646230305795020911893811408763710613665873920*cos(psai3)*((x + 3/20)^2 + (y - 5961309120025813/324518553658426726783156020576256)^2 + z^2) + 921874154253079406245849520734352287309771001303727*z*sin(psai3) + 3072913847510264739033799752030575647321056878847480*x*z*sin(psai3) - 25092245777719314889417938690917385062735681434226291131840997621760*y*z*sin(psai3))/(35336941295567686591665950014858370316549677937512379162432124025852395520000*pi*((x + 3/20)^2 + (y - 5961309120025813/324518553658426726783156020576256)^2 + z^2)^(5/2)) - (8364081925906438296472646230305795020911893811408763710613665873920*cos(psai4)*((y + 3/20)^2 + (x + 8941963680038719/324518553658426726783156020576256)^2 + z^2) - 25092245777719314889417938690917385062735681434226291131840997621760*z^2*cos(psai4) + 1382811231379619024315177054290016193088653159027747*z*sin(psai4) + 25092245777719314889417938690917385062735681434226291131840997621760*x*z*sin(psai4) + 4609370771265396799264891530549455333250664071260880*y*z*sin(psai4))/(35336941295567686591665950014858370316549677937512379162432124025852395520000*pi*((y + 3/20)^2 + (x + 8941963680038719/324518553658426726783156020576256)^2 + z^2)^(5/2)) + (15464290404874820406886546062350517*z^2*cos(psai1) - 5154763468291606802295515354116839*cos(psai1)*((x - 3/20)^2 + y^2 + z^2) + 15464290404874820406886546062350517*y*z*sin(psai1))/(21778071482940061661655974875633165533184000*pi*((x - 3/20)^2 + y^2 + z^2)^(5/2))
];
f = (b1 - b2)./2/h;
if nargin > 3
	if outputId < 4
		f = f(outputId);
	else
		f = sqrt(f(1)^2+f(2)^2);
	end
end
end